<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kindle Weather Dashboard Config</title>
    <style>
        h1 {
            text-align: center;
        }
        body {
            margin: 10px;
        }

        form div {
            margin: 10px 0;
        }

        input[name=city] {
            width: 90%;
            padding: 10px;
        }

        input[name=lat], input[name=lon] {
            width: 100px;
        }
    </style>
</head>
<body>
<h1>Kindle Weather Dashboard<br/>Config Page</h1>
<form action="index.html" method="GET">
    <div>
        <label>City: <br/><input type="text" name="city" id="city" /></label>
    </div>
    <div>Or GPS:</div>
    <div>
        <label>Lat (e.g. 50.123): <input type="text" name="lat" id="lat" /></label>
        <label>Lon (e.g. 14.4): <input type="text" name="lon" id="lon" /></label>
    </div>
    <div>
        <label>UTC offset: (kindle paperwhite (and maybe some others) doesn't report correct local time to the kindle (always it is GMT/UTC). If times on dashboard are bad, you can set custom offset, like 1, 2, -3 etc. You may need to set it again after winter/summer time change.)<br/>
            <select name="utcOffset" id="utcOffset">
                <option value="">default</option>
                <option value="+01:00">+1 h</option>
                <option value="-01:00">-1 h</option>
                <option value="+02:00">+2 h</option>
                <option value="-02:00">-2 h</option>
                <option value="+03:00">+3 h</option>
                <option value="-03:00">-3 h</option>
                <option value="+04:00">+4 h</option>
                <option value="-04:00">-4 h</option>
                <option value="+05:00">+5 h</option>
                <option value="-05:00">-5 h</option>
                <option value="+06:00">+6 h</option>
                <option value="-06:00">-6 h</option>
                <option value="+07:00">+7 h</option>
                <option value="-07:00">-7 h</option>
                <option value="+08:00">+8 h</option>
                <option value="-08:00">-8 h</option>
                <option value="+09:00">+9 h</option>
                <option value="-09:00">-9 h</option>
                <option value="+10:00">+10 h</option>
                <option value="-10:00">-10 h</option>
                <option value="+11:00">+11 h</option>
                <option value="-11:00">-11 h</option>
                <option value="+12:00">+12 h</option>
                <option value="-12:00">-12 h</option>
            </select>
        </label>
    </div>
    <div>
        <label>Language: <br/>
            <select name="lang" id="lang">
                <option value="en">English</option>
                <option value="sk">Slovensky</option>
                <option value="cs">Česky</option>
                <option value="de">Deutsch</option>
            </select>
        </label>
    </div>
    <div>
        <label>Rotation: <br/>
            <select name="rotation" id="rotation">
                <option value="none">None</option>
                <option value="ll">Landscape Left</option>
                <option value="lr">Landscape right</option>
                <option value="up">Upside down</option>
                <option value="">default</option>
            </select>
        </label>
    </div>
    <div>
        <label>Units: <br/>
            <select name="units" id="units">
                <option value="">default</option>
                <option value="imperial">Imperial - Fahrenheit</option>
                <option value="metric">Metric - °C</option>
            </select>
        </label>
    </div>
    <div>
        <label>Night Mode: <br/>
            <select name="night" id="night">
                <option value="">default</option>
                <option value="off">off</option>
                <option value="auto">sunset - sunrise</option>
                <option value="on">always</option>
            </select>
        </label>
    </div>
    <div>
        <label>OWM appid (leave it blank for default): <br/><input type="text" name="appId" id="appId"/></label>
    </div>
    <div>
        <input type="submit" value="Show Dashboard"/>
    </div>
</form>
<div>Source ane more info: <a href="https://github.com/matopeto/kindle-weather-dashboard">https://github.com/matopeto/kindle-weather-dashboard</a></div>
<script type="application/javascript">
    var params = {};
    window.location.search.replace(
        /[?&]+([^=&]+)=([^&]*)/gi,
        function(str, key, value) {
            params[key] = decodeURIComponent(value);
        }
    );

    var paramKeys = [
        "city",
        "lat",
        "lon",
        "lang",
        "rotation",
        "units",
        "night",
        "appId",
        "utcOffset",
    ];

    for (var i = 0; i < paramKeys.length; i++) {
        var key = paramKeys[i];
        if (params[key])
            document.getElementById(key).value = params[key];
    }
</script>
</body>
</html>